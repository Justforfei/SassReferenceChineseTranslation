<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <title>Sass 中文文档</title>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css" />
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600|Droid+Sans+Mono' rel='stylesheet' type='text/css'>
</head>
<body>

<aside id="aside">
  <ul id="toc"></ul>
</aside>

<article id="article">
  <div id="article-content">
    <%= contents %>
  </div>
</article>

<script src="assets/js/prism.js"></script>
<script>
  window.onload = function() {
    var toc = document.getElementById('toc'),
        titles = document.querySelectorAll('h2, h3, h4, h5'),
        content = '';

    for (var i = 0, j = titles.length; i < j; i++) {
      content += '<li class="' + titles[i].tagName.toLowerCase() + '">' +
                  '<a href="#' + titles[i].getAttribute('id') + '">' +
                    titles[i].textContent.replace(/^.*?(?=\d{1,2}\.\s)/, '').replace(/\(.*\)/, '') +
                  '</a>' +
                '</li>';
    }

    toc.innerHTML = content;
  };
</script>

</body>
</html>